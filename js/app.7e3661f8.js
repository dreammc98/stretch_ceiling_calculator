(function(){"use strict";var t={1807:function(t,e,o){var n=o(5130),r=o(6768),a=o(144),s=o(4232),l=o.p+"img/main-img.6c033878.png",i=o.p+"img/icons-sprite.52b082d3.svg";const u=["width","height","viewBox"],c=["xlink:href"];var d={__name:"Icon",props:{width:{type:String,default:"16px"},height:{type:String,default:"16px"},viewBox:{type:String,default:"0 0 16 16"},name:{type:String,required:!0}},setup(t){return(e,o)=>((0,r.uX)(),(0,r.CE)("svg",{width:t.width,height:t.height,viewBox:t.viewBox,fill:"none",class:"svg"},[(0,r.Lk)("use",{"xlink:href":`${(0,a.R1)(i)}#${t.name}`},null,8,c)],8,u))}};const p=d;var v=p,m=o(782);const _={class:"list"},f=["onClick"];var g={__name:"Room",setup(t){const e=(0,m.Pj)(),o=(0,r.EW)((()=>e.state.rooms)),n=t=>{e.dispatch("selectRoom",t)},a=()=>{e.dispatch("addRoomAndSelect")},l=(0,r.EW)((()=>e.state.selectedRoomId)),i=t=>l.value===t?"list__item-active":"";return(t,e)=>((0,r.uX)(),(0,r.CE)("ul",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.value,(t=>((0,r.uX)(),(0,r.CE)("li",{onClick:e=>n(t.id),key:t.id,class:(0,s.C4)(["list__item",i(t.id)])},[(0,r.Lk)("span",{class:(0,s.C4)(t.id===l.value&&1!==l.value&&"title")},(0,s.v_)(t.title),3),t.id===l.value&&1!==l.value?((0,r.uX)(),(0,r.Wv)(v,{key:0,name:"close",viewBox:"0 0 24 24",width:"24",height:"24",class:(0,s.C4)(t.id===l.value&&"icon-close")},null,8,["class"])):(0,r.Q3)("",!0)],10,f)))),128)),(0,r.Lk)("li",{class:"list__item",onClick:a},[(0,r.bF)(v,{name:"plus-add-room",class:"icon"}),(0,r.eW)(" Добавить комнату ")])]))}},k=o(1241);const b=(0,k.A)(g,[["__scopeId","data-v-1453b72e"]]);var h=b;const y={class:"digital"},L={class:"wrapper__input"},w={class:"input__field"},C={key:0,style:{"font-size":"10px"}};var E={__name:"DigitalInput",props:{title:String,sign:String,property:String},setup(t){const e=t,o=(0,m.Pj)(),a=(0,r.EW)((()=>o.state.selectedRoomId)),l=(0,r.EW)((()=>o.state.rooms.find((t=>t.id===a.value)))),i=()=>o.commit("decrementInput",e.property),u=()=>o.commit("increaseInput",e.property),c=t=>{l.value.inputs[e.property]<10&&"area"===e.property&&(l.value.inputs[e.property]=10),l.value.inputs[e.property]<1&&"corners"===e.property&&(l.value.inputs[e.property]=1)},d=t=>{/^\d*$/.test(t.key)||t.preventDefault();o.state.warning};return(e,o)=>((0,r.uX)(),(0,r.CE)("div",y,[(0,r.Lk)("h3",null,(0,s.v_)(t.title)+":",1),(0,r.Lk)("div",L,[(0,r.Lk)("button",{class:"btn",onClick:i},[(0,r.bF)(v,{name:"minus"})]),(0,r.Lk)("div",w,[(0,r.bo)((0,r.Lk)("input",{onKeypress:d,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value.inputs[t.property]=e),type:"number",onInput:c},null,544),[[n.Jo,l.value.inputs[t.property]]]),(0,r.Lk)("span",null,(0,s.v_)(t.sign),1)]),(0,r.Lk)("button",{class:"btn",onClick:u},[(0,r.bF)(v,{name:"plus"})])]),e.warning?((0,r.uX)(),(0,r.CE)("span",C,(0,s.v_)(e.warning),1)):(0,r.Q3)("",!0)]))}};const I=(0,k.A)(E,[["__scopeId","data-v-1992917c"]]);var R=I;const x={class:"digital"},X={class:"input__field"},S={class:"pointer"},A={key:0,class:"drop-down"},F=["onClick"];var j={__name:"TextInput",props:{title:String,arr:Array,property:String},setup(t){const e=t,o=(0,m.Pj)(),l=(0,r.EW)((()=>o.state.selectedRoomId)),i=(0,r.EW)((()=>o.state.rooms.find((t=>t.id===l.value)))),u=(0,a.KR)(!1),c=t=>{t.stopPropagation(),u.value=!u.value},d=()=>{u.value=!1},p=t=>{i.value.inputs[e.property]=t};return(e,o)=>{const a=(0,r.gN)("click-outside");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",x,[(0,r.Lk)("h3",null,(0,s.v_)(t.title),1),(0,r.Lk)("div",{class:"wrapper__input",onClick:c},[(0,r.Lk)("div",X,[(0,r.eW)((0,s.v_)(i.value.inputs[t.property])+" ",1),(0,r.Lk)("button",S,[(0,r.bF)(v,{class:(0,s.C4)(u.value&&"pointer-svg"),width:"13",height:"9",viewBox:"0 0 13 9",name:"pointer"},null,8,["class"])]),(0,r.bF)(n.eB,{name:"fade","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:(0,r.k6)((()=>[u.value?((0,r.uX)(),(0,r.CE)("ul",A,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.arr,((e,o)=>((0,r.uX)(),(0,r.CE)("li",{key:o,class:(0,s.C4)(["drop-down-item",e===i.value.inputs[t.property]&&"drop-down-item-active"]),onClick:t=>p(e)},(0,s.v_)(e),11,F)))),128))])):(0,r.Q3)("",!0)])),_:1})])])])),[[a,d]])}}};const O=(0,k.A)(j,[["__scopeId","data-v-3be337ef"]]);var W=O;const M={class:"input"},P={class:"input"};var B={__name:"Calculation",setup(t){const e=(0,m.Pj)(),o=e.state.textureArr,n=e.state.colorArr;return(t,e)=>((0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",M,[(0,r.bF)(R,{title:"Площадь помещения",sign:"м²",property:"area"}),(0,r.bF)(R,{title:"Количество углов",sign:"шт.",property:"corners"})]),(0,r.Lk)("div",P,[(0,r.bF)(W,{title:"Фактура потолка",arr:(0,a.R1)(o),property:"texture"},null,8,["arr"]),(0,r.bF)(W,{title:"Цвет потолка",arr:(0,a.R1)(n),property:"color"},null,8,["arr"])])]))}};const Q=(0,k.A)(B,[["__scopeId","data-v-3e35ebd9"]]);var K=Q;const $={class:"btn"},q={key:0};var T={__name:"Button",props:{title:String,ques:Boolean},setup(t){return(e,o)=>((0,r.uX)(),(0,r.CE)("button",$,[(0,r.eW)((0,s.v_)(t.title)+" ",1),t.ques?((0,r.uX)(),(0,r.CE)("span",q,"?")):(0,r.Q3)("",!0)]))}};const D=(0,k.A)(T,[["__scopeId","data-v-0f99af3f"]]);var V=D,z=o(4373);const J=t=>((0,r.Qi)("data-v-127dd1fa"),t=t(),(0,r.jt)(),t),U={class:"modal-wrapper"},N={class:"modal-content"},G=J((()=>(0,r.Lk)("svg",{class:"close-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[(0,r.Lk)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,r.Lk)("path",{d:"M12 10.586l4.95-4.95 1.414 1.414L13.414 12l4.95 4.95-1.414 1.414L12 13.414l-4.95 4.95-1.414-1.414L10.586 12 5.636 7.05l1.414-1.414L12 10.586z"})],-1))),H=[G];var Y={__name:"Modal",setup(t){const e=(0,m.Pj)(),o=t=>{t.stopPropagation(),e.commit("toggleModal",!1)};return(t,e)=>((0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",N,[(0,r.Lk)("div",{class:"svg-wrapper",onClick:o},H),(0,r.RG)(t.$slots,"default")])]))}};const Z=(0,k.A)(Y,[["__scopeId","data-v-127dd1fa"]]);var tt=Z;const et=t=>((0,r.Qi)("data-v-3efd38b3"),t=t(),(0,r.jt)(),t),ot=et((()=>(0,r.Lk)("h2",{class:"title"},"Оформить заказ",-1))),nt={class:"inputs"},rt=et((()=>(0,r.Lk)("div",{class:"btn-wrapper"},[(0,r.Lk)("button",{type:"submit"},"Оформить заказ")],-1)));var at={__name:"OrderForm",setup(t){const e=(0,m.Pj)(),o=(0,r.EW)((()=>e.state.rooms)),s=()=>e.commit("toggleModal",!1),l=(0,a.KR)(""),i=(0,a.KR)(""),u=async()=>{try{await z.A.post("http://localhost:3000/orders",{name:l.value,phone:i.value,rooms:o.value});alert("Заказ успешно оформлен!"),s()}catch(t){console.error("Ошибка при оформлении заказа:",t),alert("Произошла ошибка при оформлении заказа.")}};return(t,e)=>{const o=(0,r.gN)("click-outside");return(0,r.bo)(((0,r.uX)(),(0,r.Wv)(tt,{onClose:e[2]||(e[2]=e=>t.isModalVisible=!1)},{default:(0,r.k6)((()=>[ot,(0,r.Lk)("form",{onSubmit:(0,n.D$)(u,["prevent"])},[(0,r.Lk)("div",nt,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),id:"name",required:"",placeholder:"Ваше имя"},null,512),[[n.Jo,l.value]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),id:"phone",type:"tel",required:"",placeholder:"Номер"},null,512),[[n.Jo,i.value]])]),rt],32)])),_:1})),[[o,t.modalClose]])}}};const st=(0,k.A)(at,[["__scopeId","data-v-3efd38b3"]]);var lt=st;const it=t=>((0,r.Qi)("data-v-4bc35602"),t=t(),(0,r.jt)(),t),ut={class:"wrapper"},ct=it((()=>(0,r.Lk)("h2",{class:"title"},"Рассчитайте стоимость Вашего потолка онлайн!",-1))),dt={class:"wrapper-calc"},pt={class:"calculation"},vt={class:"wrapper__result"},mt={key:0,class:"result__amount"},_t={key:1,class:"result__amount"},ft={style:{color:"red"}},gt={key:2},kt={class:"wrapper__btn"},bt=it((()=>(0,r.Lk)("div",null,[(0,r.Lk)("img",{src:l,alt:"img",class:"main__img"})],-1)));var ht={__name:"TheCalculator",setup(t){const e={"ПВХ":{"Белый":1390,"Цветной":1600},"Тканевый":{"Белый":2250,"Цветной":null}},o=(0,m.Pj)(),n=(0,r.EW)((()=>o.state.rooms));let l=(0,a.KR)(!0);const i=(0,r.EW)((()=>{console.log(n.value);let t=0;return l.value=!0,n.value.forEach((o=>{const n=e[o.inputs.texture][o.inputs.color],r=100;n?t+=n*o.inputs.area+r*o.inputs.corners:(l.value=!1,t="Отсутствует в наличии")})),t}));function u(t){const e=t%10,o=t%100;return 1===e&&11!==o?"рубль":e>=2&&e<=4&&(o<12||o>14)?"рубля":"рублей"}const c=(0,r.EW)((()=>o.state.isModal)),d=()=>{event.stopPropagation(),o.commit("toggleModal",!0)};return(t,e)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",ut,[ct,(0,r.Lk)("div",null,[(0,r.Lk)("div",null,[(0,r.bF)(h)]),(0,r.Lk)("div",dt,[(0,r.Lk)("div",pt,[(0,r.Lk)("div",null,[(0,r.bF)(K)]),(0,r.Lk)("div",vt,[(0,a.R1)(l)?((0,r.uX)(),(0,r.CE)("div",mt,[(0,r.eW)(" Итого: "),(0,r.Lk)("span",null,(0,s.v_)(i.value),1),(0,r.eW)(" "+(0,s.v_)(u(i.value)),1)])):((0,r.uX)(),(0,r.CE)("div",_t,[(0,r.Lk)("span",ft,(0,s.v_)(i.value),1)])),(0,a.R1)(l)?((0,r.uX)(),(0,r.CE)("span",gt,"(Ориентировочная стоимость)")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",kt,[(0,r.bF)(V,{class:"btn",title:"ОФОРМИТЬ ЗАКАЗ",ques:!0,onClick:d}),(0,r.bF)(V,{title:"СКАЧАТЬ СМЕТУ"})])]),bt])])]),c.value?((0,r.uX)(),(0,r.Wv)(lt,{key:0})):(0,r.Q3)("",!0)],64))}};const yt=(0,k.A)(ht,[["__scopeId","data-v-4bc35602"]]);var Lt=yt;const wt={class:"main"};var Ct={__name:"App",setup(t){return(t,e)=>((0,r.uX)(),(0,r.CE)("div",wt,[(0,r.bF)(Lt)]))}};const Et=Ct;var It=Et;o(4114);const Rt=["ПВХ","Тканевый"],xt=["Белый","Цветной"];var Xt=(0,m.y$)({state:{textureArr:Rt,colorArr:xt,rooms:[{id:1,title:"Комната №1",inputs:{area:10,corners:4,texture:Rt[0],color:xt[0]}}],selectedRoomId:1,warning:!1,isModal:!1},mutations:{addRoom(t,e){t.rooms.push(e)},setSelectedRoomId(t,e){t.selectedRoomId=e},decrementInput(t,e){const o=t.rooms.find((e=>e.id===t.selectedRoomId));if(o){if(10===o.inputs[e]&&"area"===e)return o.inputs[e]=10,void(t.warning="Площать ");if(1===o.inputs[e]&&"corners"===e)return void(o.inputs[e]=1);o.inputs[e]-=1}},increaseInput(t,e){const o=t.rooms.find((e=>e.id===t.selectedRoomId));o&&(o.inputs[e]+=1)},toggleModal(t,e){t.isModal=e},roomDelete(t){t.rooms=t.rooms.filter((e=>e.id!==t.selectedRoomId)),t.selectedRoomId=t.rooms[0].id,console.log(t.rooms[0].id)}},actions:{addRoomAndSelect({commit:t,state:e}){const o={id:e.rooms.length+1,title:`№${e.rooms.length+1}`,inputs:{area:10,corners:4,texture:e.textureArr[0],color:e.colorArr[0]}};t("addRoom",o),t("setSelectedRoomId",o.id)},selectRoom({commit:t},e){t("setSelectedRoomId",e)}},getters:{}}),St={beforeMount(t,e){t.clickOutsideEvent=function(o){t===o.target||t.contains(o.target)||e.value(o)},document.body.addEventListener("click",t.clickOutsideEvent)},unmounted(t){document.body.removeEventListener("click",t.clickOutsideEvent)}};const At=(0,n.Ef)(It);At.directive("click-outside",St),At.use(Xt),At.mount("#app")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,a){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],a=t[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[i])}))?n.splice(i--,1):(l=!1,a<s&&(s=a));if(l){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,r,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/stretch_ceiling_calculator/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,s=n[0],l=n[1],i=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var c=i(o)}for(e&&e(n);u<s.length;u++)a=s[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkstretch_ceiling_calculator"]=self["webpackChunkstretch_ceiling_calculator"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(1807)}));n=o.O(n)})();
//# sourceMappingURL=app.7e3661f8.js.map